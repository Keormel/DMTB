from math import factorial, comb
from fractions import Fraction

# ========= ТЕКСТЫ ЗАДАНИЙ ИЗ PDF =========

TASKS = {
    1: "Национальный чемпионат проходит в два круга. "
       "В турнире участвуют 120000 команд. "
       "Определите, сколько всего матчей необходимо запланировать.",

    2: "Комиссия состоит из председателя, его заместителя и еще трех человек. "
       "Сколькими способами 5 человек могут распределить между собой эти обязанности?",

    3: "Сколькими способами 8 детей могут расположиться на скамейке в один ряд?",

    4: "Сколькими способами можно расставить 7 различных книг на полке?",

    5: "Сколькими способами покупатель может выбрать 3 различных компакт-диска "
       "из 8 различных компакт-дисков?",

    6: "В команде 16 игроков. "
       "Сколькими способами тренер может выбрать состав из 6 игроков?",

    7: "В урне 6 белых и 8 черных шаров. "
       "Одновременно извлекают два шара. "
       "Найдите вероятность того, что извлечены два белых шара.",

    8: "В урне 6 белых и 8 черных шаров. "
       "Одновременно извлекают два шара. "
       "Найдите вероятность того, что извлечены два черных шара.",

    9: "Урна содержит 4 белых и 5 красных шаров. "
       "Случайным образом извлекаются 3 шара без возвращения. "
       "Найдите вероятность того, что извлечены 3 белых шара.",

    10: "Урна содержит 4 белых и 5 красных шаров. "
        "Случайным образом извлекаются 3 шара без возвращения. "
        "Найдите вероятность того, что среди извлеченных шаров есть шары обоих цветов.",

    11: "В лифт 8-этажного дома на первом этаже входят 3 человека. "
        "Каждый выходит случайно на любом этаже, начиная со второго. "
        "Найдите вероятность того, что все выйдут на разных этажах.",

    12: "В лифт 8-этажного дома на первом этаже входят 3 человека. "
        "Каждый выходит случайно на любом этаже, начиная со второго. "
        "Найдите вероятность того, что ровно двое выйдут на восьмом этаже.",

    13: "В лифт 11-этажного дома на первом этаже входят 4 человека. "
        "Каждый выходит случайно на любом этаже, начиная со второго. "
        "Найдите вероятность того, что все выйдут на разных этажах.",

    14: "В лифт 11-этажного дома на первом этаже входят 4 человека. "
        "Каждый выходит случайно на любом этаже, начиная со второго. "
        "Найдите вероятность того, что ровно двое выйдут на пятом этаже.",

    15: "В лифт 10-этажного дома на первом этаже входят 5 человек. "
        "Каждый выходит случайно на любом этаже, начиная со второго. "
        "Найдите вероятность того, что все выйдут на разных этажах.",

    16: "В лифт 10-этажного дома на первом этаже входят 5 человек. "
        "Каждый выходит случайно на любом этаже, начиная со второго. "
        "Найдите вероятность того, что ровно двое выйдут на шестом этаже.",

    17: "На полке 6 различных книг, среди которых два тома С. Есенина: том 1 и том 2. "
        "Найдите вероятность того, что эти два тома стоят рядом.",

    18: "На полке 6 различных книг, среди которых два тома С. Есенина: том 1 и том 2. "
        "Найдите вероятность того, что эти два тома стоят рядом и при этом "
        "том 1 расположен левее тома 2.",

    19: "На полке 7 различных книг, среди которых три тома С. Есенина: "
        "том 1, том 2 и том 3. "
        "Найдите вероятность того, что три тома стоят подряд в порядке "
        "том 1, затем том 2, затем том 3.",

    20: "Национальный чемпионат по футболу проходит в два круга. "
        "Каждая пара команд проводит между собой два матча. "
        "Определите, сколько всего матчей нужно запланировать, "
        "если в чемпионате участвуют 18 команд."
}

# ========= РЕШЕНИЯ =========

def solve(task):
    if task == 1:
        return 120000 * 119999
    if task == 2:
        return 5 * 4
    if task == 3:
        return factorial(8)
    if task == 4:
        return factorial(7)
    if task == 5:
        return comb(8, 3)
    if task == 6:
        return comb(16, 6)
    if task == 7:
        return Fraction(comb(6, 2), comb(14, 2))
    if task == 8:
        return Fraction(comb(8, 2), comb(14, 2))
    if task == 9:
        return Fraction(comb(4, 3), comb(9, 3))
    if task == 10:
        return Fraction(1) - Fraction(comb(4, 3), comb(9, 3)) - Fraction(comb(5, 3), comb(9, 3))
    if task == 11:
        return Fraction(factorial(7) // factorial(4), 7**3)
    if task == 12:
        return Fraction(3 * 6, 7**3)
    if task == 13:
        return Fraction(factorial(10) // factorial(6), 10**4)
    if task == 14:
        return Fraction(comb(4, 2) * 9**2, 10**4)
    if task == 15:
        return Fraction(factorial(9) // factorial(4), 9**5)
    if task == 16:
        return Fraction(comb(5, 2) * 8**3, 9**5)
    if task == 17:
        return Fraction(factorial(5) * 2, factorial(6))
    if task == 18:
        return Fraction(factorial(5), factorial(6))
    if task == 19:
        return Fraction(factorial(5), factorial(7))
    if task == 20:
        return 18 * 17


# ========= ФУНКЦИЯ ФОРМАТИРОВАНИЯ ОТВЕТА =========

def format_answer(answer):
    """Форматирует ответ: если это дробь, показывает дробь и проценты"""
    if isinstance(answer, Fraction):
        percentage = float(answer) * 100
        return f"{answer} ({percentage:.2f}%)"
    else:
        return str(answer)


# ========= МЕНЮ =========

def main():
    while True:
        print("\nЛАБОРАТОРНАЯ РАБОТА №1")
        print("1 – Показать задание и ответ")
        print("2 – Показать все задания и ответы")
        print("0 – Выход")

        choice = input("Выбор: ")

        if choice == "0":
            break

        elif choice == "1":
            n = int(input("Введите номер задания (1–20): "))
            print(f"\nЗадание {n}:")
            print(TASKS[n])
            print("Ответ:", format_answer(solve(n)))

        elif choice == "2":
            for i in range(1, 21):
                print(f"\nЗадание {i}:")
                print(TASKS[i])
                print("Ответ:", format_answer(solve(i)))

        else:
            print("Неверный выбор")


if __name__ == "__main__":
    main()
